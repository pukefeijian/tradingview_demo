{"version":3,"sources":["webpack:///./src/views/information/information.vue?a5ca","webpack:///./src/views/information/information.vue","webpack:///src/views/information/information.vue","webpack:///./src/views/information/information.vue?d5e9","webpack:///./src/views/information/information.vue?d719"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","_v","_l","categoryList","v","o","key","class","active","on","$event","changeType","_s","scrollEvent","list","toDetail","title","_f","resourceTime","source","page","loading","_e","attrs","staticRenderFns","name","props","components","data","finish","mounted","getList","getType","methods","e","that","Math","ceil","currentTarget","scrollTop","clientHeight","scrollHeight","current","type","$api","news_typs","then","res","arr","concat","window","open","keyId","d","size","news_page","length","component"],"mappings":"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","file":"static/js/chunk-64ed6bc8.568f6096.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./information.vue?vue&type=style&index=0&id=74c9d438&prod&scoped=true&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w90p\",staticStyle:{\"margin\":\"0 auto\",\"height\":\"100%\",\"overflow\":\"auto\",\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('div',{staticClass:\"firstTitle mt48\"},[_vm._v(\"新闻舆情聚合\")]),_c('div',{staticClass:\"secondDesc\"},[_vm._v(\"新闻舆情聚合简介\")]),_c('div',{staticClass:\"secondMenus mt24\"},_vm._l((_vm.categoryList),function(v,o){return _c('div',{key:o,staticClass:\"secondMenu\",class:{'active':_vm.active==o},on:{\"click\":function($event){return _vm.changeType(v,o)}}},[_vm._v(_vm._s(v))])}),0),_c('div',{staticClass:\"flexBox mt24\",staticStyle:{\"flex-wrap\":\"wrap\",\"overflow\":\"auto\",\"flex\":\"1\"},on:{\"scroll\":_vm.scrollEvent}},[_vm._l((_vm.list),function(v,o){return _c('div',{key:o,staticClass:\"newsList\",on:{\"click\":function($event){return _vm.toDetail(v)}}},[_c('div',{staticClass:\"f500 text_deal_2\"},[_vm._v(_vm._s(v.title))]),_c('div',{staticClass:\"f12 op7 mt4 text_deal\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"getDateDiff\")(v.resourceTime)))]),_vm._v(\"·\"),_c('span',[_vm._v(_vm._s(v.source))])])])}),(!_vm.page.loading)?_c('noData',{staticStyle:{\"flex-shrink\":\"0\",\"width\":\"100%\"},attrs:{\"list\":_vm.list}}):_vm._e(),(_vm.page.loading)?_c('loading'):_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"w90p\" style=\"margin:0 auto;height: 100%; overflow: auto; display: flex; flex-direction: column;\">\r\n    <div class=\"firstTitle mt48\">新闻舆情聚合</div>\r\n    <div class=\"secondDesc\">新闻舆情聚合简介</div>\r\n    <div class=\"secondMenus mt24\">\r\n        <div v-for=\"(v,o) in categoryList\" :key=\"o\" class=\"secondMenu\" :class=\"{'active':active==o}\" @click=\"changeType(v,o)\">{{v}}</div>\r\n    </div>\r\n    <div class=\"flexBox mt24\" style=\"flex-wrap:wrap;overflow: auto;flex:1;\" @scroll=\"scrollEvent\">\r\n        <!-- {{ list }} -->\r\n        <div v-for=\"(v,o) in list\" :key=\"o\" class=\"newsList\" @click=\"toDetail(v)\">\r\n            <div class=\"f500 text_deal_2\">{{v.title}}</div>\r\n            <div class=\"f12 op7 mt4 text_deal\">\r\n                <span >{{v.resourceTime | getDateDiff}}</span>·<span>{{v.source}}</span>\r\n            </div>\r\n        </div>\r\n        <noData v-if=\"!page.loading\" :list=\"list\" style=\"flex-shrink: 0; width: 100%;\"></noData>\r\n        <loading v-if=\"page.loading\"></loading>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name: '',\r\n    props: {\r\n    },\r\n    components: {\r\n\r\n    },\r\n    data () {\r\n        return {\r\n            // categoryList:['全部','重要舆情','碳圈热点','政府公告','政府指标','企业招标','公众号'],\r\n            categoryList:['全部'],\r\n            active:0,\r\n            list:[],\r\n            page:{\r\n                \"type\": '',\r\n                \"current\": 1,\r\n                \"size\": 20,\r\n                loading:false,\r\n                finish:false,\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getList();\r\n        this.getType();\r\n    },\r\n    methods: {\r\n        // 滚定监听\r\n        scrollEvent(e) {\r\n            let that=this;\r\n            if (Math.ceil(e.currentTarget.scrollTop + e.currentTarget.clientHeight) >=e.currentTarget.scrollHeight-20) {   //容差：20px\r\n                console.log('滚动到底部');\r\n                if(!that.page.finish && !that.page.loading){\r\n                    that.page.current+=1;\r\n                    that.getList();\r\n                }\r\n            }\r\n        },\r\n        changeType(v,o){\r\n            this.active=o;\r\n            this.page.type=v;\r\n            this.page.current=1;\r\n            this.list=[];\r\n            this.getList();\r\n        },\r\n        //分类\r\n        getType(){\r\n            this.$api.news_typs().then(res=>{\r\n                let arr = res || [];\r\n                this.categoryList=this.categoryList.concat(arr);\r\n            });\r\n        },\r\n        toDetail(v){\r\n            // localStorage.setItem('information_detail',JSON.stringify(v));\r\n            // this.$router.push(`/informationDetail`);\r\n            window.open(`/informationDetail?id=${v.keyId}`,'_blank');\r\n        },\r\n        //根据接口获取\r\n        async getList(){\r\n            if(this.page.loading){\r\n                return;\r\n            }\r\n            let d={\r\n                \"type\": this.page.type=='全部'?'':this.page.type,\r\n                \"current\": this.page.current,\r\n                \"size\": this.page.size,\r\n            };\r\n            this.page.loading=true;\r\n            let res = await this.$api.news_page(d);\r\n            let list = res.list || [];\r\n            if (list.length >= d.size) {\r\n                this.page.finish = false;\r\n            } else {\r\n                this.page.finish = true;\r\n            }\r\n            if(d.current==1){\r\n                this.list=list;\r\n            }else{\r\n                this.list=this.list.concat(list);\r\n            }\r\n            this.page.loading=false;\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.newsList{\r\n    cursor: pointer;\r\n    width:calc((100% - (24px * 3)) / 4);\r\n    padding:15px;\r\n    border-radius: 8px;\r\n    margin:0 24px 24px 0;\r\n}\r\n.newsList:nth-child(4n){\r\n    margin:0 0 24px 0;\r\n}\r\n.newsList:hover{\r\n    background: rgba(56, 97, 251, 0.1);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.4.1@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./information.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.4.1@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./information.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./information.vue?vue&type=template&id=74c9d438&scoped=true\"\nimport script from \"./information.vue?vue&type=script&lang=js\"\nexport * from \"./information.vue?vue&type=script&lang=js\"\nimport style0 from \"./information.vue?vue&type=style&index=0&id=74c9d438&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74c9d438\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}