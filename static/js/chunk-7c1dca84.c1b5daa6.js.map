{"version":3,"sources":["webpack:///./src/views/trading/superReplay/handicap.vue?64a1","webpack:///./src/views/trading/superReplay/superReplay.vue","webpack:///./src/views/trading/superReplay/timeView.vue","webpack:///./src/views/trading/superReplay/const.js","webpack:///src/views/trading/superReplay/timeView.vue","webpack:///./src/views/trading/superReplay/timeView.vue?cfc7","webpack:///./src/views/trading/superReplay/timeView.vue?6a54","webpack:///./src/views/trading/superReplay/handicap.vue","webpack:///src/views/trading/superReplay/handicap.vue","webpack:///./src/views/trading/superReplay/handicap.vue?cd36","webpack:///./src/views/trading/superReplay/handicap.vue?47f5","webpack:///src/views/trading/superReplay/superReplay.vue","webpack:///./src/views/trading/superReplay/superReplay.vue?3e87","webpack:///./src/views/trading/superReplay/superReplay.vue?840a","webpack:///./src/views/trading/superReplay/superReplay.vue?0d91","webpack:///./src/views/trading/superReplay/timeView.vue?5ef4","webpack:///./src/assets/img/collect.svg"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","class","isAuto","on","$event","changeAuto","_v","_s","ref","attrs","list","area","staticRenderFns","isShow","TradingViewConfig","debug","fullscreen","symbol","interval","localStorage","getItem","autosize","container","datafeed","library_path","custom_css_url","locale","$t","timezone","disabled_features","enabled_features","overrides","studies_overrides","loading_screen","backgroundColor","foregroundColor","createAutoData","count","max","min","autoData","Array","Range","i","Rand","Math","random","push","round","timeId","name","props","type","Object","default","Boolean","components","data","tradingViewConfig","currency1","currency2","saved_chart","chart","feed","last_price","bars","page","loading","finish","isShowCharts","methods","createFeed","_this_","Datafeed","updateFrequency","_datafeed","_subscribers","_requestsPending","that","update","listenerGUID","subscriptionRecord","resolution","datesRangeRight","parseInt","Date","valueOf","datesRangeLeft","periodLengthSeconds","_subscriptionRecord","getBars","symbolInfo","hasOwnProperty","length","lastBar","isNaN","lastBarTime","time","subscribers","listeners","isNewBar","Error","previousBar","setInterval","DataPulseUpdater","prototype","requiredPeriodsCount","daysCount","subscribeDataListener","newDataCallback","_logMessage","NaN","unsubscribeDataListener","Container","_configuration","supports_search","supports_group_request","supported_resolutions","supports_marks","supports_timescale_marks","exchanges","_barsPulseUpdater","_enableLogging","_callbacks","_initializationFinished","_fireEvent","event","argument","callbacksChain","message","callback","onReady","setTimeout","resolveSymbol","symbolName","onSymbolResolvedCallback","onResolveErrorCallback","Promise","resolve","then","adjustScale","text","rangeStartDate","rangeEndDate","onDataCallback","onErrorCallback","noData","getMarks","startDate","endDate","marks","subscribeBars","onRealtimeCallback","onResetCacheNeededCallback","forEach","bar","unsubscribeBars","buyColor","background","sellColor","bsAll","id","label","map","v","o","mark","getTime","color","labelFontColor","minSize","window","tvWidget","TradingView","widget","onChartReady","updateKLine","subscribe","activeChart","crossHairMoved","price","$emit","onVisibleRangeChanged","from","to","createData","lastPrice","low","p","close","open","high","volume","changePair","arr","item","height","totalVol","reverse","len","clearInterval","current","size","initSocket","init","getList_time","getList","zoomOut","setSymbol","resetData","getData","mounted","computed","lang","$i18n","watch","pair","newVal","oldVal","handler","val","value","deep","immediate","beforeDestroy","$eventBus","$off","component","$base","getColor","info","_f","_e","require","addFollow","stopPropagation","addWarn","_l","key","sellPrices","sellAmounts","sellAmountsSum","buyAmountsSum","style","width","buyPrices","buyAmounts","highest","lowest","currentAmount","quantityrelative","committeeThan","committeeSent","scrollEvent","$dayjs","format","direction","residueAmount","amount","model","isWarnPop","$$v","expression","warnPop","d","$api","price_alert_cancel","res","$Message","success","price_alert_add","search","e","ceil","currentTarget","scrollTop","clientHeight","scrollHeight","trading_minute_page","concat","snapshot_last","JSON","parse","sum","getInfo","timeView","handicap","$route","query","showDom","$nextTick","$refs","trading_page","module","exports"],"mappings":"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","file":"static/js/chunk-7c1dca84.c1b5daa6.js","sourcesContent":["export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./handicap.vue?vue&type=style&index=0&id=7ca4c36e&prod&scoped=true&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flexColumn\",staticStyle:{\"flex\":\"1\",\"overflow\":\"auto\"}},[_c('div',{staticClass:\"selectMenus borderBottom borderLeft borderRight\"},[_c('div',{staticClass:\"selectMenu\",class:{'active':_vm.isAuto},on:{\"click\":function($event){return _vm.changeAuto(true)}}},[_vm._v(_vm._s('自动回放'))])]),_c('div',{staticClass:\"flexBox\",staticStyle:{\"flex\":\"1\",\"overflow\":\"auto\"}},[_c('div',{staticStyle:{\"flex\":\"1\",\"overflow\":\"auto\"}},[_c('timeView',{ref:\"timeView\",staticClass:\"relative wh100\",attrs:{\"list\":_vm.list,\"isAuto\":_vm.isAuto,\"area\":_vm.area}})],1),_c('handicap',{ref:\"handicap\",attrs:{\"area\":_vm.area}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"f-fill\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"position\":\"absolute\"},attrs:{\"id\":\"chart_container_timeView\"}}),_c('loading-layer',{attrs:{\"isShow\":!_vm.isShow}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n\r\n//最新版\r\n//导出k线图配置\r\nexport function TradingViewConfig() {\r\n    return {\r\n        debug:false,\r\n        fullscreen: false, //屏幕尺寸\r\n        symbol: null, //'AAPL',\r\n        interval: localStorage.getItem('tradingview_interval_timeView') || '1', //分时类型(周期)，默认日线\r\n        autosize: true, //自动适应容器大小\r\n        container: \"chart_container_timeView\",\r\n        //\tBEWARE: no trailing slash is expected in feed URL\r\n        datafeed: null, //new Datafeeds.UDFCompatibleDatafeed(\"https://demo-feed-data.tradingview.com\"),//数据\r\n        library_path: \"charting_library/\", //资源库根路径\r\n        custom_css_url: \"custom-styles.css\", //自定义样式文件\r\n        locale: `${_vm.$t(\"locale\")}`, //语言，en：英文，zh：中文\r\n        timezone: \"Asia/Shanghai\",\r\n        // preset: \"mobile\",//是否移动端，移动端就没有什么控件\r\n        //禁用的功能\r\n        disabled_features: [\r\n            \"use_localstorage_for_settings\",     //是否缓存配置。禁用缓存可以让多张图表不存在同时修改。\r\n            \"header_symbol_search\",\r\n            \"header_compare\",\r\n            \"symbol_search_hot_key\",\r\n            \"compare_symbol\",\r\n            \"symbol_info\",\r\n            \"go_to_date\",\r\n            \"timeframes_toolbar\",\r\n\r\n            // \"header_resolutions\",\r\n            // \"control_bar\",\r\n            // \"edit_buttons_in_legend\",\r\n            // \"hide_left_toolbar_by_default\",\r\n            // \"hide_last_na_study_output\",\r\n            // \"remove_library_container_border\",\r\n            // \"dont_show_boolean_study_arguments\",\r\n\r\n            // \"header_widget_dom_node\",\r\n            // \"header_saveload\",\r\n            // \"legend_widget\",\r\n            // \"main_series_scale_menu\",\r\n            // \"hide_left_toolbar_by_default\",\r\n            // \"show_right_widgets_panel_by_default\",\r\n            // \"side_toolbar_in_fullscreen_mode\",\r\n            // \"right_toolbar\",\r\n\r\n            // \"remove_library_container_border\", \"hide_last_na_study_output\", \"dont_show_boolean_study_arguments\", \"hide_left_toolbar_by_default\",\r\n\r\n            // \"save_chart_properties_to_local_storage\", \r\n            // \"volume_force_overlay\", \r\n            \"left_toolbar\",\r\n            // \"header_saveload\"\r\n            // \"control_bar\",\r\n            // \"context_menus\",\r\n            // \"study_buttons_in_legend\",\r\n            // \"study_dialog_search_control\",\r\n            \"header_widget\"\r\n        ],\r\n        //开启的功能\r\n        enabled_features: [\r\n            // \"header_resolutions\",\r\n            // \"control_bar\",\r\n            // \"edit_buttons_in_legend\",\r\n            // \"hide_left_toolbar_by_default\",\r\n            // \"hide_last_na_study_output\",\r\n            // \"remove_library_container_border\",\r\n            // \"dont_show_boolean_study_arguments\"\r\n        ],\r\n        overrides: {\r\n            \"paneProperties.background\": \"#17171a\",\r\n            \"paneProperties.horzGridProperties.color\": \"#17171a\", //水平网格线颜色，默认：#313131\r\n            \"paneProperties.vertGridProperties.color\": \"#17171a\", //垂直网格线颜色，默认：#313131\r\n            \"paneProperties.crossHairProperties.style\": 1,\r\n            \"paneProperties.legendProperties.showBarChange\": !1,\r\n            \"paneProperties.topMargin\": 10,//上边距，k线距离标题\r\n            \"paneProperties.bottomMargin\": 10,//下边距，k线距离指标\r\n            \"mainSeriesProperties.style\": 3,//3：面积，1：K线。\r\n            \"mainSeriesProperties.candleStyle.upColor\": \"#e53935\",//买入颜色\r\n            \"mainSeriesProperties.candleStyle.borderUpColor\": \"#b32b28\",//买入边框颜色\r\n            \"mainSeriesProperties.candleStyle.wickUpColor\": \"#e53935\",//买入线条颜色\r\n            \"mainSeriesProperties.candleStyle.downColor\": \"#4caf50\",//卖出颜色 \r\n            \"mainSeriesProperties.candleStyle.borderDownColor\": \"#47a34b\",//卖出边框颜色\r\n            \"mainSeriesProperties.candleStyle.wickDownColor\": \"#4caf50\",//卖出线条颜色\r\n            \"mainSeriesProperties.statusViewStyle.symbolTextSource\": \"ticker\",\r\n            \"scalesProperties.textColor\": \"#AAA\",\r\n            \"scalesProperties.backgroundColor\": \"#1c1c28\",\r\n            \"scalesProperties.lineColor\": \"#252537\",\r\n            // \"mainSeriesProperties.priceLineWidth\": 5,\r\n        },\r\n        studies_overrides: {\r\n            \"volume.volume.color.0\": \"#4caf50\",\r\n            \"volume.volume.color.1\": \"#e53935\",\r\n            \"volume.volume ma.visible\": !1,\r\n            \"relative strength index.plot.color\": \"#5973fe\",\r\n            \"relative strength index.plot.linewidth\": 1.5,\r\n            \"relative strength index.hlines background.color\": \"#134A9F\"\r\n        },\r\n        loading_screen: {\r\n            backgroundColor: \"#1c1c28\",\r\n            foregroundColor: \"#1c1c28\"\r\n        },\r\n        // theme: \"dark\",//\"light\"     //主题色\r\n    }\r\n}","<template>\r\n    <div>\r\n        <!-- <div v-show=\"isShow\"> -->\r\n        <!--k线图-->\r\n        <div  id=\"chart_container_timeView\" class=\"f-fill\" style=\"height:100%;width:100%;position:absolute;\"></div>\r\n        <!-- </div> -->\r\n        <loading-layer :isShow=\"!isShow\"></loading-layer>\r\n    </div>\r\n    </template>\r\n    \r\n    <script>\r\n    import {TradingViewConfig} from './const.js'\r\n    import axios from 'axios'\r\n    import dayjs from 'dayjs';\r\n    import config from \"@/config\";\r\n    import { sendMsg } from \"@/api/http\"\r\n    // 创建指定范围个数的随机数据\r\n    function createAutoData(count,max,min){\r\n        var autoData = new Array();\r\n        var Range = max - min;\r\n        for(var i=0;i<count;i++){\r\n            var Rand = Math.random();   \r\n            autoData.push(min + Math.round(Rand * Range));   \r\n        }\r\n        return autoData;\r\n    }\r\n    let timeId;\r\n    export default {\r\n        name: '',\r\n        props: {\r\n            area:{\r\n                type:Object,\r\n                default:()=>{}\r\n            },\r\n            list:{\r\n                type:Array,\r\n                default:()=>{}\r\n            },\r\n            //是否自动回放\r\n            isAuto:{\r\n                isAuto:Boolean,\r\n                default:false\r\n            }\r\n        },\r\n        components: {\r\n    \r\n        },\r\n        data () {\r\n            return {\r\n                isShow:true,//显示k线图\r\n                tradingViewConfig: TradingViewConfig(),//k线图配置\r\n                currency1: '',//币种简称。ETH\r\n                currency2: '',//\r\n                saved_chart: null,\r\n                chart: null,//k线图对象\r\n                feed: null,//数据对象\r\n                last_price:1234.2365,\r\n                //time：日期(毫秒单位时间戳)，close：收盘价，open：开盘价，high：最高价，low：最低价，volume：交易量\r\n                // bars:[{\r\n                //     time: new Date().getTime(),\r\n                //     close: 10,\r\n                //     open: 8,\r\n                //     high: 11,\r\n                //     low: 7,\r\n                //     volume:50\r\n                // }],\r\n                bars:[],\r\n                page:{\r\n                    \"area\": '',\r\n                    \"current\": 1,\r\n                    \"size\": 500,\r\n                    loading:false,\r\n                    finish:false,\r\n                },\r\n                isShowCharts:false,//是否渲染完图表\r\n            }\r\n        },\r\n        methods: {\r\n            //创建表格数据，自动调用\r\n            createFeed(){\r\n                let _this_ = this;\r\n                let Datafeed = {};\r\n                Datafeed.DataPulseUpdater = function(datafeed, updateFrequency) {\r\n                    this._datafeed = datafeed;\r\n                    this._subscribers = {};\r\n                    this._requestsPending = 0;\r\n                    var that = this;\r\n                    var update = function() {\r\n                        if (that._requestsPending > 0) {\r\n                            return;\r\n                        }\r\n                        for (var listenerGUID in that._subscribers) {\r\n                            var subscriptionRecord = that._subscribers[listenerGUID];\r\n                            var resolution = subscriptionRecord.resolution;\r\n                            var datesRangeRight = parseInt((new Date().valueOf()) / 1000);\r\n                            var datesRangeLeft = datesRangeRight - that.periodLengthSeconds(resolution, 10);\r\n                            that._requestsPending++;\r\n                            (function(_subscriptionRecord) {\r\n                                that._datafeed.getBars(_subscriptionRecord.symbolInfo, resolution, datesRangeLeft, datesRangeRight, function(bars) {\r\n                                        that._requestsPending--;\r\n                                        if (!that._subscribers.hasOwnProperty(listenerGUID)) {\r\n                                            return;\r\n                                        }\r\n                                        if (bars.length === 0) {\r\n                                            return;\r\n                                        }\r\n                                        var lastBar = bars[bars.length - 1];\r\n                                        if (!isNaN(_subscriptionRecord.lastBarTime) && lastBar.time < _subscriptionRecord.lastBarTime) {\r\n                                            return;\r\n                                        }\r\n                                        var subscribers = _subscriptionRecord.listeners;\r\n                                        var isNewBar = !isNaN(_subscriptionRecord.lastBarTime) && lastBar.time > _subscriptionRecord.lastBarTime;\r\n                                        if (isNewBar) {\r\n                                            if (bars.length < 2) {\r\n                                                throw new Error('Not enough bars in history for proper pulse update. Need at least 2.');\r\n                                            }\r\n                                            var previousBar = bars[bars.length - 2];\r\n                                            for (var i = 0; i < subscribers.length; ++i) {\r\n                                                subscribers[i](previousBar);\r\n                                            }\r\n                                        }\r\n                                        _subscriptionRecord.lastBarTime = lastBar.time;\r\n                                        for (let i = 0; i < subscribers.length; ++i) {\r\n                                            subscribers[i](lastBar);\r\n                                        }\r\n                                    },\r\n                                    //\ton error\r\n                                    function() {\r\n                                        that._requestsPending--;\r\n                                    });\r\n                            })(subscriptionRecord);\r\n                        }\r\n                    };\r\n                    if (typeof updateFrequency != 'undefined' && updateFrequency > 0) {\r\n                        setInterval(update, updateFrequency);\r\n                    }\r\n                };\r\n    \r\n                Datafeed.DataPulseUpdater.prototype.periodLengthSeconds = function(resolution, requiredPeriodsCount) {\r\n                    var daysCount = 0;\r\n                    if (resolution === 'D') {\r\n                        daysCount = requiredPeriodsCount;\r\n                    } else if (resolution === 'M') {\r\n                        daysCount = 31 * requiredPeriodsCount;\r\n                    } else if (resolution === 'W') {\r\n                        daysCount = 7 * requiredPeriodsCount;\r\n                    } else {\r\n                        daysCount = requiredPeriodsCount * resolution / (24 * 60);\r\n                    }\r\n                    return daysCount * 24 * 60 * 60;\r\n                };\r\n    \r\n                Datafeed.DataPulseUpdater.prototype.subscribeDataListener = function(symbolInfo, resolution, newDataCallback, listenerGUID) {\r\n                    this._datafeed._logMessage('Subscribing ' + listenerGUID);\r\n                    if (!this._subscribers.hasOwnProperty(listenerGUID)) {\r\n                        this._subscribers[listenerGUID] = {\r\n                            symbolInfo: symbolInfo,\r\n                            resolution: resolution,\r\n                            lastBarTime: NaN,\r\n                            listeners: []\r\n                        };\r\n                    }\r\n                    this._subscribers[listenerGUID].listeners.push(newDataCallback);\r\n                };\r\n    \r\n                Datafeed.DataPulseUpdater.prototype.unsubscribeDataListener = function(listenerGUID) {\r\n                    this._datafeed._logMessage('Unsubscribing ' + listenerGUID);\r\n                    delete this._subscribers[listenerGUID];\r\n                };\r\n    \r\n                //container主要数据结构。\r\n                Datafeed.Container = function(updateFrequency){\r\n                    this._configuration = {\r\n                        supports_search: false,\r\n                        supports_group_request: false,\r\n                        // supported_resolutions: ['1','15','60', '1D'],//['1', '3', '5', '15', '30', '60', '120', '240', '360', '720', '1D', '3D', '1W', '1M']\r\n                        // supported_resolutions: ['1D'],//['1', '3', '5', '15', '30', '60', '120', '240', '360', '720', '1D', '3D', '1W', '1M'],\r\n                        supported_resolutions: ['1'],//['1', '3', '5', '15', '30', '60', '120', '240', '360', '720', '1D', '3D', '1W', '1M'],\r\n                        // supportedResolutions:['1M'],\r\n                        supports_marks: true,\r\n                        supports_timescale_marks: true,\r\n                        exchanges: ['smartbit'],//交易所名称\r\n                    };\r\n                    this._barsPulseUpdater = new Datafeed.DataPulseUpdater(this, updateFrequency || 10 * 1000);\r\n                    this._enableLogging = true;\r\n                    this._callbacks = {};\r\n                    this._initializationFinished = true;\r\n                    this._fireEvent('initialized');\r\n                    this._fireEvent('configuration_ready');\r\n                };\r\n    \r\n                Datafeed.Container.prototype._fireEvent = function(event, argument) {\r\n                    if (this._callbacks.hasOwnProperty(event)) {\r\n                        var callbacksChain = this._callbacks[event];\r\n                        for (var i = 0; i < callbacksChain.length; ++i) {\r\n                            callbacksChain[i](argument);\r\n                        }\r\n                        this._callbacks[event] = [];\r\n                    }\r\n                };\r\n    \r\n                Datafeed.Container.prototype._logMessage = function(message) {\r\n                    if (this._enableLogging) {\r\n                        var now = new Date();\r\n                        // console.log(\"CHART LOGS: \"+now.toLocaleTimeString() + '.' + now.getMilliseconds() + '> ' + message);\r\n                    }\r\n                };\r\n    \r\n                Datafeed.Container.prototype.on = function(event, callback) {\r\n                    if (!this._callbacks.hasOwnProperty(event)) {\r\n                        this._callbacks[event] = [];\r\n                    }\r\n                    this._callbacks[event].push(callback);\r\n                    return this;\r\n                };\r\n                //此方法可以设置图表库支持的图表配置\r\n                Datafeed.Container.prototype.onReady = function(callback) {\r\n                    let that = this;\r\n                    if (this._configuration) {\r\n                        setTimeout(function() {\r\n                            callback(that._configuration);\r\n                        }, 0);\r\n                    }\r\n                    else {\r\n                        this.on('configuration_ready', function() {\r\n                            callback(that._configuration);\r\n                        });\r\n                    }\r\n                };\r\n                //通过商品名称解析商品信息\r\n                //symbolName(商品名称 或ticker), onSymbolResolvedCallback, onResolveErrorCallback\r\n                Datafeed.Container.prototype.resolveSymbol = function(symbolName, onSymbolResolvedCallback, onResolveErrorCallback) {\r\n                    \r\n                    this._logMessage(\"GOWNO :: resolve symbol \"+ symbolName);\r\n                    Promise.resolve().then(() => {\r\n                        function adjustScale(){\r\n                            if(_this_.last_price>1000)\r\n                                return 100;\r\n                            else\r\n                                return 100000000;\r\n                        }\r\n                        this._logMessage(\"GOWNO :: onResultReady inject \"+'AAPL');\r\n                        // console.log(symbolName)\r\n                        onSymbolResolvedCallback({\r\n                            // \"name\": _this_.currency1 + \"-\"+ _this_.currency2,\r\n                            // \"name\":\"AAPL\",\r\n                            \"name\":_this_.area.text,\r\n                            // \"symbol\": '55',//商品名称\r\n                            \"timezone\": \"Asia/Shanghai\",//\"Europe/Warsaw\",//这个商品的交易所时区\r\n                            \"pricescale\": adjustScale(),//价格精度\r\n                            \"minmov\": 1,//最小波动\r\n                            \"minmov2\": 0,\r\n                            // \"ticker\": _this_.currency1 + \"-\"+ _this_.currency2,\r\n                            \"ticker\": _this_.area.text,\r\n                            // \"ticker\": 'smartbit',//它是您的商品体系中此商品的唯一标识符\r\n                            \"description\": \"\",//商品说明。这个商品说明将被打印在图表的标题栏中。\r\n                            \"session\": \"24x7\",//商品交易时间。7*24小时(例如：比特币或其它数字货币)\r\n                            \"type\": \"bitcoin\",//仪表的可选类型。bitcoin比特币 \r\n                            // \"exchange-traded\": \"smartbit\",\r\n                            // \"exchange-listed\": \"smartbit\",\r\n                            \"has_intraday\": true,//布尔值显示商品是否具有日内（分钟）历史数据。\r\n                            \"intraday_multipliers\": ['1'],//这是一个包含日内周期(分钟单位)的数组，datafeed将会自行构建它。\r\n                            \"has_weekly_and_monthly\": false,//布尔值显示商品是否具有以W和M为单位的历史数据。\r\n                            \"has_no_volume\": false,//布尔表示商品是否拥有成交量数据。\r\n                            \"regular_session\": \"24x7\",\r\n                            // \"timeScale.rightOffset\": 50,\r\n                            //     'timeScale':{\r\n                            //         'barSpacing':'19.119813271949624'\r\n                            //     }\r\n                        });\r\n                    })\r\n                };\r\n                //当图表库需要由日期范围定义的历史K线片段时，将调用此函数\r\n                //旧版getBars回调函数有六个参数，新版的回调函数只有五个。\r\n                //旧版：getBars(symbolInfo, resolution, rangeStartDate, rangeEndDate, onDataCallback, onErrorCallback)\r\n                //新版：getBars(symbolInfo, resolution, periodParams, onHistoryCallback, onErrorCallback)，旧版的rangeStartDate, rangeEndDate这两个值被放在了periodParams，并且新增了两个值。\r\n                Datafeed.Container.prototype.getBars = function(symbolInfo, resolution, rangeStartDate, rangeEndDate, onDataCallback, onErrorCallback) {\r\n                    // if (rangeStartDate > 0 && (rangeStartDate + '').length > 10) {\r\n                    //     throw new Error(['Got a JS time instead of Unix one.', rangeStartDate, rangeEndDate]);\r\n                    // }\r\n                    // onDataCallback([], { noData: true });\r\n    \r\n                    /** 标注相关 */\r\n                    //清计时器\r\n                    // if (_this_.Timer != null) {\r\n                    //     clearInterval(_this_.Timer);\r\n                    // }\r\n                    //我是实时更新标记 所以用了计时器\r\n                    // _this_.Timer = setInterval(() => {\r\n                        // var marks = _this_.getMarks();\r\n                        // let marks = [{\r\n                        //     id:'185145',\r\n                        //     // time:1675987200000 ,\r\n                        //     time:1675987200000 / 1000,\r\n                        //     color:'red',\r\n                        //     text:'woshibiaoti',\r\n                        //     label:'woshineirong',\r\n                        //     labelFontColor:'#ffffff',\r\n                        //     minSize:20,\r\n                        // }]\r\n                        // console.log(marks,onDataCallback)\r\n                        // onDataCallback(marks);\r\n                        // onDataCallback(marks,{ noData: true });\r\n                    // }, 1000);\r\n                    // 通过$once来监听定时器，在beforeDestroy钩子可以被清除。\r\n                    // _this_.$once(\"hook:beforeDestroy\", () => {\r\n                    //     clearInterval(_this_.Timer);\r\n                    // });\r\n                    // setTimeout(()=>{\r\n                        // console.log(marks,5566)\r\n                        // rangeEndDate(marks);\r\n                        // rangeEndDate([], { noData: true });\r\n                    // },0);\r\n                    \r\n                    // rangeEndDate([]);\r\n                    rangeEndDate([], { noData: true });\r\n                };\r\n                Datafeed.Container.prototype.getMarks = function ( symbolInfo, startDate, endDate, onDataCallback, resolution ) {\r\n                    //清计时器\r\n                    // if (this_vue.Timer != null) {\r\n                    //     clearInterval(this_vue.Timer);\r\n                    // }\r\n                    // //我是实时更新标记 所以用了计时器\r\n                    // this_vue.Timer = setInterval(() => {\r\n                    // var marks = this_vue.getMarks();\r\n                    //     console.log(marks.length);\r\n                    //     onDataCallback(marks);\r\n                    // }, 1000);\r\n                    // // 通过$once来监听定时器，在beforeDestroy钩子可以被清除。\r\n                    // this_vue.$once(\"hook:beforeDestroy\", () => {\r\n                    //     clearInterval(this_vue.Timer);\r\n                    // });\r\n                    // let marks = [{\r\n                    //     id:'185145',\r\n                    //     // time:1675987200000 ,\r\n                    //     time:1675987200000 / 1000,\r\n                    //     color:'red',\r\n                    //     text:'三只松鼠股东减持2%。',\r\n                    //     label:'注',//注，\r\n                    //     labelFontColor:'#ffffff',\r\n                    //     minSize:20,\r\n                    // }]\r\n                    var marks = _this_.getMarks();\r\n                    setTimeout(()=>{\r\n                        // console.log(marks,5566)\r\n                        onDataCallback(marks);\r\n                    },0);\r\n                };\r\n                //订阅K线数据\r\n                Datafeed.Container.prototype.subscribeBars = function(symbolInfo, resolution, onRealtimeCallback, listenerGUID, onResetCacheNeededCallback) {\r\n                    // console.log('onRealtimeCallback',onRealtimeCallback);\r\n                    _this_.bars.forEach(function (bar) {\r\n                        // console.log(\"bar\",bar);\r\n                        onRealtimeCallback(bar)\r\n                    });\r\n                    this.on('pair_change', function() {\r\n                        onResetCacheNeededCallback();\r\n                    });\r\n                };\r\n                //取消订阅K线数据\r\n                Datafeed.Container.prototype.unsubscribeBars = function(listenerGUID) {\r\n                    this._barsPulseUpdater.unsubscribeDataListener(listenerGUID);\r\n                };\r\n                return new Datafeed.Container;\r\n            },\r\n            //标记\r\n            getMarks() {\r\n                var that = this;\r\n                //自定义背景颜色\r\n                var buyColor = { background: \"#4caf50\" };\r\n                var sellColor = { background: \"#e53935\" };\r\n                var marks = [];\r\n                // bsAll是我的标记数据  根据你的情况而定\r\n                // for (var i = 0; i < that.bsAll.length; i++) {\r\n                //     var mark = {};\r\n                //     mark.id = that.bsAll[i].id;  //id 是根据k线的id 确定的唯一性\r\n                //     mark.time = that.bsAll[i].time / 1000; //时间也是唯一的  / 1000取决于后台返回你的数据\r\n                //     mark.color = that.bsAll[i].bs === \"买\" ? buyColor : sellColor;\r\n                //     mark.text = that.bsAll[i].bs;\r\n                //     mark.label = that.bsAll[i].bs; \r\n                //     mark.labelFontColor = \"#fff\";//文字颜色\r\n                //     mark.minSize = 20;//尺寸\r\n                //     marks.push(mark);\r\n                // }\r\n                //标记数据\r\n                let bsAll=[{\r\n                    id:232323,\r\n                    time:'2023-02-10 17:00:00',\r\n                    type:'buy',\r\n                    text:'港股节期停市！',\r\n                    label:'注',\r\n                },{\r\n                    id:23233,\r\n                    time:'2023-02-05 17:00:00',\r\n                    type:'sell',\r\n                    text:'三只松鼠股东减持2%！',\r\n                    label:'事',\r\n                }]\r\n                bsAll=[]\r\n                bsAll.map((v,o)=>{\r\n                    var mark = {};\r\n                    mark.id = v.id;  //id 是根据k线的id 确定的唯一性\r\n                    // mark.time = v.time / 1000; //时间也是唯一的  / 1000取决于后台返回你的数据\r\n                    mark.time = new Date(v.time).getTime() / 1000;\r\n                    mark.color = v.type == \"buy\" ? buyColor : sellColor;\r\n                    mark.text = v.text;\r\n                    mark.label = v.label; \r\n                    mark.labelFontColor = \"#fff\";//文字颜色\r\n                    mark.minSize = 20;//尺寸\r\n                    marks.push(mark);\r\n                });\r\n                return marks;\r\n            },\r\n            //初始化图表\r\n            async init(){\r\n                this.feed = this.createFeed();\r\n                this.tradingViewConfig.symbol = this.currency1 + \":\"+ this.currency2;//'AAPL'\r\n                this.tradingViewConfig.datafeed = this.feed;\r\n                // this.tradingViewConfig.datafeed = new Datafeeds.UDFCompatibleDatafeed(\"https://demo-feed-data.tradingview.com\");//this.feed;\r\n                this.chart = window.tvWidget = new TradingView.widget(this.tradingViewConfig);\r\n                this.chart.onChartReady(()=>{\r\n                    this.updateKLine();\r\n                    this.isShow=true;\r\n                    //切换分时图\r\n                    // this.chart.subscribe(\"time_interval\",res=>{\r\n                    //     localStorage.setItem('tradingview_interval',res.label);\r\n                    //     this.bars=[];\r\n                    //     this.changePair();\r\n                    //     sendMsg({cmd:'tradingview',data:res.label});\r\n                    // });\r\n                    //重置按钮 undo_redo_state_changed：缩放改变事件\r\n                    this.chart.subscribe(\"reset_scales\",()=>{\r\n                        this.updateKLine();\r\n                    })\r\n                    const onLoad = ({ from, to })=>{\r\n                        // console.log('onVisibleRangeChanged:',from, to,getThisTime(from).now)\r\n                        // console.log('onVisibleRangeChanged:',from, to,this.bars[0].time/1000,this.page.finish,this.page.loading);\r\n                        let t=from-this.bars[0].time/1000;\r\n                        // if(this.bars.length>0 && from==this.bars[0].time/1000){\r\n                        if(this.isShowCharts && !this.page.loading && !this.page.finish && this.bars.length>0 &&  t< 24*60*60 && t>0){//tradingview转成了整点时间，需要对比小于24小时以内。\r\n                            console.log('第一条k线：',from);\r\n                            this.page.current+=1;\r\n                            this.getList(()=>{\r\n                                console.log('更新图表')\r\n                                this.changePair();\r\n                            });\r\n                        }\r\n                    }\r\n                    //选中k线，点击k线 \r\n                    //time：当前列的时间，price：当前列鼠标高度的价格\r\n                    //需要判断时间是否存在数据中，再获取相关的数据（开盘价，收盘价等等）\r\n                    this.chart.activeChart().crossHairMoved().subscribe(null,({ time, price }) => {\r\n                        // console.log('选中k线：',time, price)\r\n                        return;\r\n                        this.bars.map((v,o)=>{\r\n                            if(v.time==time*1000){\r\n                                console.log('相同：',v.time,time)\r\n                                this.$emit('select_line',{time:v.time});//选中K线\r\n                            }\r\n                        })\r\n                    });\r\n                    //释放\r\n                    this.chart.subscribe(\"mouse_up\",()=>{\r\n                        this.$emit('up_line',{});//释放选中\r\n                    })\r\n                    //订阅可见逻辑范围更改\r\n                    //判断是否需要获取历史数据\r\n                    this.chart.activeChart().onVisibleRangeChanged().subscribe( null,({ from, to }) =>{\r\n                        // console.log('选中：',from,to)\r\n                        // throttle(onLoad({ from, to }),50)\r\n                        // // console.log('onVisibleRangeChanged:',from, to,getThisTime(from).now)\r\n                        // // console.log('onVisibleRangeChanged:',from, to,this.bars[0].time/1000,this.page.finish,this.page.loading);\r\n                        // let t=from-this.bars[0].time/1000;\r\n                        // // if(this.bars.length>0 && from==this.bars[0].time/1000){\r\n                        // if(!this.page.loading && !this.page.finish && this.bars.length>0 &&  t< 24*60*60 && t>0){//tradingview转成了整点时间，需要对比小于24小时以内。\r\n                        //     console.log('第一条k线：',from);\r\n                        //     this.page.current+=1;\r\n                        //     // this.getList(()=>{\r\n                        //     //     console.log('更新图表')\r\n                        //     //     this.changePair();\r\n                        //     // });\r\n                        // }\r\n                    });\r\n                    //函数节流方法\r\n                    function throttle(fn, dalay, atleast = 0) {\r\n                        let timer = null\r\n                        let previous = null\r\n                        return (...args) => {\r\n                            let now = +new Date() //获取当前时间戳\r\n                                !previous ? now : previous\r\n                            if (atleast && now - previous > atleast) {\r\n                                fn.apply(this, args)\r\n                                // 重置上一次开始时间为本次结束时间\r\n                                previous = now\r\n                                clearTimeout(timer)\r\n                            } else {\r\n                                clearTimeout(timer)\r\n                                timer = setTimeout(() => {\r\n                                    fn.apply(this, args)\r\n                                    previous = null\r\n                                }, dalay)\r\n                            }\r\n                        }\r\n                    }\r\n                    //均线\r\n                    // this.chart.chart().createStudy(\"Moving Average\", false, false, [5, \"close\", 0], null, { \"Plot.color\": \"#e7eff2\", \"Plot.linewidth\": 0, });\r\n                    // this.chart.chart().createStudy(\"Moving Average\", false, false, [10, \"close\", 0], null, { \"Plot.color\": \"#e6f562\", \"Plot.linewidth\": 0, });\r\n                    // this.chart.chart().createStudy(\"Moving Average\", false, false, [20, \"close\", 0], null, { \"Plot.color\": \"#cc01bf\", \"Plot.linewidth\": 0, }); \r\n                });\r\n            },\r\n            //创建随机数据\r\n            createData() {\r\n                \r\n                //随机k线图\r\n                setInterval(() => {\r\n                    \r\n                    let data = this.bars;\r\n                    //time：日期(毫秒单位时间戳)，close：收盘价，open：开盘价，high：最高价，low：最低价，volume：交易量\r\n                    let lastPrice=data[data.length-1].low;\r\n                    let p=lastPrice*0.1;\r\n                    data.push({\r\n                        time: new Date().getTime(),\r\n                        close: createAutoData(1,lastPrice+p,lastPrice-p)[0],\r\n                        open: createAutoData(1,lastPrice+(p/2),lastPrice-(p/2))[0],\r\n                        high: createAutoData(1,lastPrice+p,lastPrice-p)[0],\r\n                        low: createAutoData(1,lastPrice+p,lastPrice-p)[0],\r\n                        volume: 100000 * Math.random()\r\n                    });\r\n                    this.bars=data;\r\n                    this.changePair();\r\n                }, 5000)\r\n            },\r\n            //定时器渲染\r\n            async getList_time(callback){\r\n                let arr = [];\r\n                this.list.forEach(item => {\r\n                    arr.push({\r\n                        time: item.time,\r\n                        close: item.close,\r\n                        open: item.open,\r\n                        high: item.height,\r\n                        low: item.low,\r\n                        volume: item.totalVol,\r\n                    })\r\n                })\r\n                arr = arr.reverse()\r\n                // this.bars=arr;\r\n                console.log('拿到数据了:',arr,this.list)\r\n                //定时渲染数据\r\n                let len=arr.length;\r\n                let i=0;\r\n                timeId=setInterval(()=>{\r\n                    this.bars.push(arr[i]);\r\n                    this.changePair();\r\n                    i++;\r\n                    if(i>=len){\r\n                        clearInterval(timeId);\r\n                    }\r\n                },1000);\r\n\r\n                //分页判断\r\n                // this.isShowCharts=false;\r\n                // setTimeout(()=>{\r\n                //     this.isShowCharts=true;\r\n                // },500);\r\n                \r\n                if(callback){\r\n                    callback();\r\n                }\r\n            },\r\n            //直接渲染\r\n            async getList(callback){\r\n                console.log(callback,'callback')\r\n                if(this.page.loading){\r\n                    return;\r\n                }\r\n                let d={\r\n                    \"area\": this.area.type,\r\n                    \"current\": this.page.current,\r\n                    \"size\": this.page.size,\r\n                };\r\n                this.page.loading=true;\r\n                // let res = await this.$api.trading_view_page(d);\r\n                // let list = res.list || [];\r\n                let list=this.list;\r\n                let arr = [];\r\n                list.forEach(item => {\r\n                    // arr.push({\r\n                    //     time: item.time,\r\n                    //     close: item.close,\r\n                    //     open: item.open,\r\n                    //     high: item.highest,\r\n                    //     low: item.lowest,\r\n                    //     volume: item.totalAmount,\r\n                    // })\r\n                    arr.push({\r\n                        time: item.time,\r\n                        close: item.close,\r\n                        open: item.open,\r\n                        high: item.height,\r\n                        low: item.low,\r\n                        volume: item.totalVol,\r\n                    })\r\n                })\r\n                arr = arr.reverse()\r\n                this.bars=arr;\r\n                console.log('拿到数据了:',arr,this.list)\r\n    \r\n                this.isShowCharts=false;\r\n                setTimeout(()=>{\r\n                    this.isShowCharts=true;\r\n                },500);\r\n                \r\n                if(callback){\r\n                    callback();\r\n                }\r\n                // this.changePair();\r\n            },\r\n            //连接socket\r\n            initSocket(){\r\n                // this.initData();\r\n                // this.createData();\r\n                if(!this.chart){\r\n                    this.init();\r\n                }else{\r\n                    this.changePair();\r\n                }\r\n                this.bars=[];\r\n                // this.changePair();\r\n                if(this.isAuto){\r\n                    this.getList_time(()=>{\r\n                        this.changePair();\r\n                    });\r\n                }else{\r\n                    this.getList(()=>{\r\n                        this.changePair();\r\n                    });\r\n                }\r\n                // this.$eventBus.$on(\"tradingview_msg\",(res)=>{\r\n                //     // console.log(\"tradingview:\" ,res);\r\n                //     let type = res.data.type;\r\n                //     this.currency1 = this.$store.state.blockchain.abbreviation;\r\n                //     if(type=='get'){    //首次进入获取数据\r\n                //         this.bars=res.data.data || [];\r\n                //         if(!this.chart){\r\n                //             this.init();\r\n                //         }else{\r\n                //             this.changePair();\r\n                //         }\r\n                //     }else if(type=='add'){      //新增数据\r\n                //         this.bars.push(res.data.data);\r\n                //         this.changePair();\r\n                //     }\r\n                // });\r\n                // sendMsg({cmd:'tradingview',data: localStorage.getItem('tradingview_interval') || '1D'});\r\n            },\r\n            //更新图表\r\n            changePair() {\r\n                if(this.chart && this.feed){\r\n                    this.feed._fireEvent('pair_change');\r\n                    this.chart.activeChart().zoomOut();\r\n                    // this.chart.activeChart().createExecutionShape().setArrowSpacing(50);\r\n                    // this.chart.setSymbol('最帅','1');\r\n                    //切换名称和周期\r\n                    // this.currency1 = this.$store.state.blockchain.abbreviation;\r\n                    // this.chart.activeChart().setSymbol(this.currency1+\"-\"+this.currency2, () => {\r\n                    this.chart.activeChart().setSymbol(this.area.text, () => {\r\n                    });\r\n                    this.chart.activeChart().resetData();\r\n                }\r\n            },\r\n            //重新绘制k线大小\r\n            updateKLine(){\r\n                return; //以下代码造成一直加载中\r\n                let len=this.bars.length;\r\n                if(len>0){\r\n                    this.chart.chart().setVisibleRange({from:this.bars[len>60?len-60:0].time/1000,to:this.bars[len-1].time/1000});\r\n                }\r\n            },\r\n            //获取数据\r\n            getData(){\r\n                this.page.current=1;\r\n                this.page.finish = false;\r\n                setTimeout(()=>{\r\n                    this.initSocket();\r\n                },0)\r\n            }\r\n        },\r\n        mounted() {\r\n            // setTimeout(()=>{\r\n            //     this.initSocket();\r\n            // },0)\r\n        },\r\n        computed: {\r\n            //多语言切换\r\n            lang(){\r\n                return this.$i18n.locale;\r\n            }\r\n        },\r\n        watch:{\r\n            //监听多语言切换\r\n            lang(){\r\n                this.tradingViewConfig.locale=`${this.$t(\"locale\")}`;\r\n                this.tradingViewConfig.datafeed = this.feed;\r\n                this.chart = window.tvWidget = new TradingView.widget(this.tradingViewConfig);\r\n            },\r\n            pair(newVal, oldVal){\r\n                this.currency1= newVal[0];\r\n                this.currency2= newVal[1];\r\n                this.changePair();\r\n                console.log('pair')\r\n            },\r\n            'isAuto':{\r\n                handler:function(val,value){\r\n                    // console.log('修改')\r\n                    clearInterval(timeId);\r\n                    this.getData();\r\n                },\r\n                deep: false,\r\n                immediate: false\r\n            }\r\n        },\r\n        beforeDestroy(){\r\n            this.$eventBus.$off(\"tradingview_msg\");\r\n            this.chart=null;\r\n            clearInterval(timeId);\r\n        }\r\n     }\r\n    </script>\r\n    \r\n    <style lang='less'>\r\n    #chart_container{\r\n        h1, h2 {\r\n        font-weight: normal;\r\n        }\r\n        ul {\r\n        list-style-type: none;\r\n        padding: 0;\r\n        }\r\n        li {\r\n        display: inline-block;\r\n        margin: 0 10px;\r\n        }\r\n        a {\r\n        color: #42b983;\r\n        }\r\n    }\r\n    </style>","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.4.1@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./timeView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.4.1@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./timeView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./timeView.vue?vue&type=template&id=0ccc626a\"\nimport script from \"./timeView.vue?vue&type=script&lang=js\"\nexport * from \"./timeView.vue?vue&type=script&lang=js\"\nimport style0 from \"./timeView.vue?vue&type=style&index=0&id=0ccc626a&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"h100p flexColumn\",staticStyle:{\"border-left\":\"1px solid #434651\",\"min-width\":\"300px\",\"overflow\":\"auto\"}},[_c('div',{staticClass:\"borderBottom p10 flexBetween\"},[_c('div',{staticClass:\"alignCenter\"},[_c('div',{staticClass:\"f18 fb\"},[_c('span',{class:[_vm.$base.getColor(_vm.info.close,_vm.info.open)]},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.close,2)))]),_c('span',{staticClass:\"ml10 circleBox\"},[_vm._v(_vm._s(_vm.area.text))])]),_c('div',{staticClass:\"ml10\",class:[_vm.$base.getColor(_vm.info.close,_vm.info.open)]},[_c('div',{staticClass:\"f14 fb\"},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.close-_vm.info.open,2,'',1)))]),_c('div',{staticClass:\"f12\"},[(_vm.info.close-_vm.info.open>0)?_c('Icon',{attrs:{\"type\":\"md-arrow-dropup\"}}):(_vm.info.close-_vm.info.open<0)?_c('Icon',{attrs:{\"type\":\"md-arrow-dropdown\"}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm._f(\"toPercent\")((_vm.info.close-_vm.info.open)/_vm.info.open*100,2))+\" \")],1)])]),_c('div',[_c('img',{staticClass:\"pointer\",staticStyle:{\"width\":\"20px\",\"height\":\"20px\"},attrs:{\"src\":require('@/assets/img/collect.svg'),\"title\":'收藏'},on:{\"click\":function($event){return _vm.addFollow()}}}),_c('img',{staticClass:\"active_t ml5\",staticStyle:{\"width\":\"20px\",\"height\":\"20px\"},attrs:{\"src\":require('@/assets/img/warn.svg'),\"title\":'预警'},on:{\"click\":function($event){$event.stopPropagation();return _vm.addWarn()}}})])]),_c('div',{staticClass:\"handicapTitle\"},[_vm._v(\"买卖五档\")]),_c('div',{staticClass:\"borderBottom\"},[_c('div',{staticClass:\"flexBox\"},[_c('div',{staticClass:\"borderRight alignCenter p5 op7\",staticStyle:{\"width\":\"2em\"}},[_vm._v(\"卖盘\")]),_c('div',{staticClass:\"center\",staticStyle:{\"flex\":\"1\"}},_vm._l((5),function(v,o){return _c('div',{key:o,staticClass:\"gradeList\"},[_c('div',{staticClass:\"op7\"},[_vm._v(_vm._s(6 - (o + 1)))]),_c('div',{class:[_vm.color]},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.sellPrices[o],2)))]),_c('div',[_vm._v(_vm._s(_vm._f(\"format\")(_vm.sellAmounts[o],2)))])])}),0)]),(_vm.sellAmountsSum == 0 && _vm.buyAmountsSum == 0)?_c('div',{staticClass:\"buySellRatio\"},[_c('div',{staticClass:\"buyRatio\",style:({ width: '50%' })}),_c('div',{staticClass:\"sellRatio\",style:({ width: '50%' })})]):_c('div',{staticClass:\"buySellRatio\"},[_c('div',{staticClass:\"buyRatio\",style:({ width: (_vm.sellAmountsSum / (_vm.sellAmountsSum + _vm.buyAmountsSum) * 100) + '%' })}),_c('div',{staticClass:\"sellRatio\",style:({ width: (_vm.buyAmountsSum / (_vm.sellAmountsSum + _vm.buyAmountsSum) * 100) + '%' })})]),_c('div',{staticClass:\"flexBox\"},[_c('div',{staticClass:\"borderRight alignCenter p5 op7\",staticStyle:{\"width\":\"2em\"}},[_vm._v(\"买盘\")]),_c('div',{staticClass:\"center\",staticStyle:{\"flex\":\"1\"}},_vm._l((5),function(v,o){return _c('div',{key:o,staticClass:\"gradeList\"},[_c('div',{staticClass:\"op7\"},[_vm._v(_vm._s(o + 1))]),_c('div',{class:[_vm.color]},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.buyPrices[o],2)))]),_c('div',[_vm._v(_vm._s(_vm._f(\"format\")(_vm.buyAmounts[o],2)))])])}),0)])]),_c('div',{staticClass:\"handicapTitle\"},[_vm._v(\"盘口\")]),_c('div',[_c('div',{staticClass:\"grid_2\"},[_c('div',{staticClass:\"flexBetween\"},[_c('div',{staticClass:\"op7\"},[_vm._v(\"最高\")]),_c('div',{class:[_vm.color]},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.highest,2)))])]),_c('div',{staticClass:\"flexBetween\"},[_c('div',{staticClass:\"op7\"},[_vm._v(\"开盘\")]),_c('div',{class:[_vm.color]},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.lowest,2)))])])]),_c('div',{staticClass:\"grid_2\"},[_c('div',{staticClass:\"flexBetween\"},[_c('div',{staticClass:\"op7\"},[_vm._v(\"最低\")]),_c('div',{class:[_vm.color]},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.open,2)))])]),_c('div',{staticClass:\"flexBetween\"},[_c('div',{staticClass:\"op7\"},[_vm._v(\"昨收\")]),_c('div',{class:[_vm.color]},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.close,2)))])])]),_c('div',{staticClass:\"grid_2\"},[_c('div',{staticClass:\"flexBetween\"},[_c('div',{staticClass:\"op7\"},[_vm._v(\"成交量\")]),_c('div',{},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.currentAmount,2)))])]),_c('div',{staticClass:\"flexBetween\"},[_c('div',{staticClass:\"op7\"},[_vm._v(\"成交额\")]),_c('div',{},[_vm._v(_vm._s(_vm._f(\"format\")('',2)))])])]),_c('div',{staticClass:\"grid_2\"},[_c('div',{staticClass:\"flexBetween\"},[_c('div',{staticClass:\"op7\"},[_vm._v(\"量比\")]),_c('div',{},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.quantityrelative,2)))])]),_c('div',{staticClass:\"flexBetween\"},[_c('div',{staticClass:\"op7\"},[_vm._v(\"委比\")]),_c('div',{},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.committeeThan,2)))])])]),_c('div',{staticClass:\"grid_2\"},[_c('div',{staticClass:\"flexBetween\"},[_c('div',{staticClass:\"op7\"},[_vm._v(\"委差\")]),_c('div',{},[_vm._v(_vm._s(_vm._f(\"format\")(_vm.info.committeeSent,2)))])]),_c('div')])]),_c('div',{staticClass:\"handicapTitle\"},[_vm._v(\"分时成交\")]),_c('div',{staticStyle:{\"flex\":\"1\",\"overflow\":\"auto\"},on:{\"scroll\":_vm.scrollEvent}},[_vm._l((_vm.list),function(v,o){return _c('div',{key:o,staticClass:\"grid_4\"},[_c('div',{staticClass:\"cloc\"},[_vm._v(_vm._s(v.time ? _vm.$dayjs(v.time).format('HH:mm') : '00:00'))]),_c('div',{staticClass:\"center\",class:v.direction == 'B' ? 'red' : 'green'},[_vm._v(_vm._s(v.price))]),_c('div',{staticClass:\"center\",class:v.direction == 'B' ? 'red' : 'green'},[_vm._v(_vm._s(v.residueAmount))]),_c('div',{staticClass:\"tright\"},[_vm._v(_vm._s(v.amount))])])}),(_vm.list.length == 0)?_c('div',{staticClass:\"center cloc f12 mt10\"},[_vm._v(\"暂无数据\")]):_vm._e()],2),_c('warnPop',{attrs:{\"area\":_vm.area},model:{value:(_vm.isWarnPop),callback:function ($$v) {_vm.isWarnPop=$$v},expression:\"isWarnPop\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"h100p flexColumn\" style=\"border-left:1px solid #434651;min-width: 300px;overflow: auto;\">\r\n        <!-- <div class=\"borderBottom p10\">\r\n            <div class=\"f18 fb\">\r\n                <span class=\"op7 mr10\">000792</span>\r\n                <span class=\"orange \">{{ area.text }}</span>\r\n            </div>\r\n            <div class=\"red \">\r\n                <span class=\"f20 fb\">26.52</span>\r\n                <span class=\"ml10\">0.20</span>\r\n                <span class=\"ml10\">+0.76%</span>\r\n            </div>\r\n        </div> -->\r\n        <div class=\"borderBottom p10 flexBetween\">\r\n            <div class=\"alignCenter\">\r\n                <div class=\"f18 fb\">\r\n                    <span :class=\"[$base.getColor(info.close,info.open)]\">{{ info.close | format(2) }}</span>\r\n                    <span class=\" ml10 circleBox\">{{ area.text }}</span>\r\n                </div>\r\n                <div class=\"ml10\" :class=\"[$base.getColor(info.close,info.open)]\">\r\n                    <div class=\"f14 fb\">{{ info.close-info.open | format(2,'',1) }}</div>\r\n                    <!-- <span class=\"ml10\">0.20</span> -->\r\n                    <div class=\" f12\">\r\n                        <Icon v-if=\"info.close-info.open>0\" type=\"md-arrow-dropup\" />\r\n                        <Icon v-else-if=\"info.close-info.open<0\" type=\"md-arrow-dropdown\"/>\r\n                        {{ (info.close-info.open)/info.open*100 | toPercent(2) }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <img :src=\"require('@/assets/img/collect.svg')\" :title=\"'收藏'\" @click=\"addFollow()\" class=\"pointer\"\r\n                    style=\"width:20px;height:20px;\" />\r\n                <!-- <img :src=\"require('@/assets/img/collectFill.svg')\" :title=\"'取消收藏'\" @click=\"cancelFollow()\" class=\"pointer\" style=\"width:20px;height:20px;\" /> -->\r\n                <img :src=\"require('@/assets/img/warn.svg')\" :title=\"'预警'\" @click.stop=\"addWarn()\" class=\"active_t ml5\"\r\n                    style=\"width:20px;height:20px;\" />\r\n                <!-- <img :src=\"require('@/assets/img/warn_red.svg')\" :title=\"'预警'\" class=\"active_t ml5\" style=\"width:20px;height:20px;\" /> -->\r\n            </div>\r\n        </div>\r\n        <div class=\"handicapTitle\">买卖五档</div>\r\n        <div class=\"borderBottom \">\r\n            <div class=\"flexBox\">\r\n                <div class=\"borderRight alignCenter p5 op7\" style=\"width: 2em;\">卖盘</div>\r\n                <div class=\"center\" style=\"flex:1;\">\r\n                    <div v-for=\"(v, o) in 5\" :key=\"o\" class=\"gradeList\">\r\n                        <div class=\"op7\">{{ 6 - (o + 1) }}</div>\r\n                        <div :class=\"[color]\">{{ sellPrices[o] | format(2) }}</div>\r\n                        <div>{{ sellAmounts[o] | format(2) }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"sellAmountsSum == 0 && buyAmountsSum == 0\" class=\"buySellRatio\">\r\n                <div class=\"buyRatio\" :style=\"{ width: '50%' }\"></div>\r\n                <div class=\"sellRatio\" :style=\"{ width: '50%' }\"></div>\r\n            </div>\r\n            <div v-else class=\"buySellRatio\"><!--占比：卖出总数量/(买入总数量+卖出总数量)-->\r\n                <div class=\"buyRatio\" :style=\"{ width: (sellAmountsSum / (sellAmountsSum + buyAmountsSum) * 100) + '%' }\"></div>\r\n                <div class=\"sellRatio\" :style=\"{ width: (buyAmountsSum / (sellAmountsSum + buyAmountsSum) * 100) + '%' }\"></div>\r\n            </div>\r\n            <div class=\"flexBox\">\r\n                <div class=\"borderRight alignCenter p5 op7\" style=\"width: 2em;\">买盘</div>\r\n                <div class=\"center\" style=\"flex:1;\">\r\n                    <div v-for=\"(v, o) in 5\" :key=\"o\" class=\"gradeList\">\r\n                        <div class=\"op7\">{{ o + 1 }}</div>\r\n                        <div :class=\"[color]\">{{ buyPrices[o] | format(2) }}</div>\r\n                        <div>{{ buyAmounts[o] | format(2) }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- 关键数据 -->\r\n        <div class=\"handicapTitle\">盘口</div>\r\n        <div>\r\n            <div class=\"grid_2\">\r\n                <div class=\"flexBetween\">\r\n                    <div class=\"op7 \">最高</div>\r\n                    <div :class=\"[color]\">{{ info.highest | format(2) }}</div>\r\n                </div>\r\n                <div class=\"flexBetween\">\r\n                    <div class=\"op7 \">开盘</div>\r\n                    <div :class=\"[color]\">{{ info.lowest | format(2) }}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid_2\">\r\n                <div class=\"flexBetween\">\r\n                    <div class=\"op7 \">最低</div>\r\n                    <div :class=\"[color]\">{{ info.open | format(2) }}</div>\r\n                </div>\r\n                <div class=\"flexBetween\">\r\n                    <div class=\"op7 \">昨收</div>\r\n                    <div :class=\"[color]\">{{ info.close | format(2) }}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid_2\">\r\n                <div class=\"flexBetween\">\r\n                    <div class=\"op7 \">成交量</div>\r\n                    <div class=\"\">{{ info.currentAmount | format(2) }}</div>\r\n                </div>\r\n                <div class=\"flexBetween\">\r\n                    <div class=\"op7 \">成交额</div>\r\n                    <div class=\"\">{{ '' | format(2) }}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid_2\">\r\n                <div class=\"flexBetween\">\r\n                    <div class=\"op7 \">量比</div>\r\n                    <div class=\"\">{{ info.quantityrelative | format(2) }}</div>\r\n                </div>\r\n                <div class=\"flexBetween\">\r\n                    <div class=\"op7 \">委比</div>\r\n                    <div class=\"\">{{ info.committeeThan | format(2) }}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid_2\">\r\n                <div class=\"flexBetween\">\r\n                    <div class=\"op7 \">委差</div>\r\n                    <div class=\"\">{{ info.committeeSent | format(2) }}</div>\r\n                </div>\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n        <div class=\"handicapTitle\">分时成交</div>\r\n        <div class=\"\" @scroll=\"scrollEvent\" style=\"flex:1;overflow: auto;\">\r\n            <div v-for=\"(v, o) in list\" :key=\"o\" class=\"grid_4\">\r\n                <!-- <div class=\"cloc\">{{ v.time?$dayjs('2023-03-31 16:41:00').format('HH:mm'):'00:00' }}</div> -->\r\n                <div class=\"cloc\">{{ v.time ? $dayjs(v.time).format('HH:mm') : '00:00' }}</div>\r\n                <div class=\"center\" :class=\"v.direction == 'B' ? 'red' : 'green'\">{{ v.price }}</div>\r\n                <div class=\"center\" :class=\"v.direction == 'B' ? 'red' : 'green'\">{{ v.residueAmount }}</div>\r\n                <div class=\"tright\">{{ v.amount }}</div>\r\n            </div>\r\n            <div v-if=\"list.length == 0\" class=\"center cloc f12 mt10\">暂无数据</div>\r\n        </div>\r\n        <warnPop v-model=\"isWarnPop\" :area=\"area\"></warnPop>\r\n    </div>\r\n</template>\r\n    \r\n<script>\r\nimport warnPop from '@/components/warnPop.vue'\r\nexport default {\r\n    name: '',\r\n    props: {\r\n        area: {\r\n            type: Object,\r\n            default: () => { }\r\n        }\r\n    },\r\n    components: {\r\n        warnPop\r\n    },\r\n    data() {\r\n        return {\r\n            info: {},\r\n            isWarnPop: false,\r\n            list: [],\r\n            page: {\r\n                \"current\": 1,\r\n                \"size\": 20,\r\n                // \"size\": 5,\r\n                loading: false,\r\n                finish: false,\r\n            },\r\n\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n        // this.getInfo();\r\n        // this.getList();\r\n        // this.init();\r\n        //需要调用的接口 trading_view_close,trading_view_com_page,snapshot_last\r\n    },\r\n    methods: {\r\n        //取消关注\r\n        async cancelFollow() {\r\n            let d = {\r\n                area: this.area.type,\r\n            };\r\n            this.$api.price_alert_cancel(d).then(res => {\r\n                this.$Message.success('关注成功!');\r\n            });\r\n        },\r\n        //添加关注\r\n        async addFollow() {\r\n            let d = {\r\n                area: this.area.type,\r\n            };\r\n            this.$api.price_alert_add(d).then(res => {\r\n                this.$Message.success('关注成功!');\r\n            });\r\n        },\r\n        //重新初始化分页\r\n        init() {\r\n            this.page = {\r\n                \"current\": 1,\r\n                \"size\": 20,\r\n                loading: false,\r\n                finish: false,\r\n            }\r\n            this.list = [];\r\n            this.getList();\r\n        },\r\n        search() {\r\n            this.page.current = 1;\r\n            this.getList();\r\n        },\r\n        // 滚定监听\r\n        scrollEvent(e) {\r\n            let that = this;\r\n            if (Math.ceil(e.currentTarget.scrollTop + e.currentTarget.clientHeight) >= e.currentTarget.scrollHeight - 20) {   //容差：20px\r\n                console.log('滚动到底部');\r\n                if (!that.page.finish && !that.page.loading) {\r\n                    that.page.current += 1;\r\n                    that.getList();\r\n                }\r\n            }\r\n        },\r\n        //列表\r\n        async getList() {\r\n            if (this.page.loading) {\r\n                return;\r\n            }\r\n            let d = {\r\n                area: this.area.type,\r\n                current: this.page.current,\r\n                size: this.page.size,\r\n            };\r\n            this.page.loading = true;\r\n            let res = await this.$api.trading_minute_page(d);\r\n            let list = res.list || [];\r\n            if (list.length >= d.size) {\r\n                this.page.finish = false;\r\n            } else {\r\n                this.page.finish = true;\r\n            }\r\n            if (d.current == 1) {\r\n                this.list = list;\r\n            } else {\r\n                this.list = this.list.concat(list);\r\n            }\r\n            this.page.loading = false;\r\n\r\n            console.log('分时成交：', list)\r\n        },\r\n        //添加预警\r\n        addWarn() {\r\n            this.isWarnPop = true;\r\n        },\r\n        //盘口\r\n        async getInfo() {\r\n            let d = {\r\n                area: this.area.type,\r\n            };\r\n            this.info = {};\r\n            let res = await this.$api.snapshot_last(d);\r\n            this.info = res || {};\r\n        },\r\n    },\r\n    computed: {\r\n        //买入价格\r\n        buyPrices() {\r\n            if (this.info.buyPrices) {\r\n                return JSON.parse(this.info.buyPrices)\r\n            }\r\n            return ['', '', '', '', ''];\r\n        },\r\n        //买入数量\r\n        buyAmounts() {\r\n            if (this.info.buyAmounts) {\r\n                return JSON.parse(this.info.buyAmounts)\r\n            }\r\n            return ['', '', '', '', ''];\r\n        },\r\n        //买入总数量\r\n        buyAmountsSum() {\r\n            let sum = 0;\r\n            if (this.info.buyAmounts) {\r\n                JSON.parse(this.info.buyAmounts).map(v => {\r\n                    sum += v;\r\n                });\r\n            }\r\n            return sum;\r\n        },\r\n        //卖出总数量\r\n        sellAmountsSum() {\r\n            let sum = 0;\r\n            if (this.info.sellAmounts) {\r\n                JSON.parse(this.info.sellAmounts).map(v => {\r\n                    sum += v;\r\n                });\r\n            }\r\n            return sum;\r\n        },\r\n        //卖出价格\r\n        sellPrices() {\r\n            if (this.info.sellPrices) {\r\n                return JSON.parse(this.info.sellPrices).reverse()\r\n            }\r\n            return ['', '', '', '', ''];\r\n        },\r\n        //卖出数量\r\n        sellAmounts() {\r\n            if (this.info.sellAmounts) {\r\n                return JSON.parse(this.info.sellAmounts).reverse()\r\n            }\r\n            return ['', '', '', '', ''];\r\n        },\r\n        //展示颜色。红：由当前价（或收盘价）-开盘价>0，反之绿，平价灰。\r\n        color() {\r\n            if (!this.info.open || !this.info.close) {\r\n                return ''\r\n            }\r\n            if (this.info.close - this.info.open > 0) {\r\n                return 'red'\r\n            }\r\n            if (this.info.close - this.info.open < 0) {\r\n                return 'green'\r\n            }\r\n            return '';\r\n        }\r\n    },\r\n    watch: {\r\n        'area': {\r\n            handler: function (val, value) {\r\n                this.getInfo();\r\n                this.init();\r\n            },\r\n            deep: true,\r\n            immediate: false\r\n        }\r\n    }\r\n}\r\n</script>\r\n    \r\n<style scoped lang='less'>\r\n.gradeList {\r\n    display: flex;\r\n}\r\n\r\n.gradeList>div {\r\n    flex: 2;\r\n    padding: 2px 0;\r\n}\r\n\r\n.gradeList>div:first-child {\r\n    flex: 1;\r\n}\r\n\r\n.buySellRatio {\r\n    height: 4px;\r\n    display: flex;\r\n}\r\n\r\n.buyRatio {\r\n\r\n    background: #e53935;\r\n}\r\n\r\n.sellRatio {\r\n\r\n    background: #4caf50;\r\n}\r\n\r\n.handicapTitle {\r\n    font-size: 12px;\r\n    padding: 2px 5px;\r\n    color: #ccc;\r\n    background: #333;\r\n}\r\n\r\n.circleBox {\r\n    padding: 4px 5px;\r\n    border-radius: 8px;\r\n    background: #303044;\r\n    font-size: 14px;\r\n    font-weight: normal;\r\n    color: #c3c2d4;\r\n}</style>","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.4.1@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./handicap.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.4.1@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./handicap.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./handicap.vue?vue&type=template&id=7ca4c36e&scoped=true\"\nimport script from \"./handicap.vue?vue&type=script&lang=js\"\nexport * from \"./handicap.vue?vue&type=script&lang=js\"\nimport style0 from \"./handicap.vue?vue&type=style&index=0&id=7ca4c36e&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ca4c36e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"flexColumn\" style=\"flex: 1;overflow: auto;\">\r\n        <div class=\"selectMenus borderBottom borderLeft borderRight\">\r\n            <div class=\"selectMenu\" :class=\"{'active':isAuto}\" @click=\"changeAuto(true)\">{{ '自动回放' }}</div>\r\n        </div>\r\n        <div class=\"flexBox\" style=\"flex: 1;overflow: auto;\">\r\n            <div style=\"flex:1;overflow: auto;\">\r\n                <!-- <timeView :list=\"list\" :area=\"area\" ref=\"timeView\" class=\"relative\"></timeView> -->\r\n                <timeView :list=\"list\" :isAuto=\"isAuto\" :area=\"area\" ref=\"timeView\" class=\"relative wh100\"></timeView>\r\n            </div>\r\n            <!-- <handicap :area=\"area\" ref=\"handicap\"></handicap> -->\r\n            <handicap ref=\"handicap\" :area=\"area\"></handicap>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport timeView from './timeView'\r\nimport handicap from './handicap'\r\nexport default {\r\n    name: 'WebSuperReplay',\r\n    components: {\r\n        timeView,handicap\r\n    },\r\n    data() {\r\n        return {\r\n            isAuto:true,\r\n            list:[],\r\n            page:{\r\n                \"current\": 1,\r\n                \"size\": 200,\r\n                // \"size\": 5,\r\n                loading:false,\r\n                finish:false,\r\n            },\r\n            area:{\r\n                type:'',\r\n                text:''\r\n            }\r\n        };\r\n    },\r\n    mounted() {\r\n        const { type,text } = this.$route.query;\r\n        if(type){\r\n            this.area.type=type;\r\n            this.area.text=text;\r\n            this.getList();\r\n        }\r\n    },\r\n    methods: {\r\n        showDom(){\r\n            this.$nextTick(()=>{\r\n                // this.$refs['timeView'].initData();\r\n                this.$refs['timeView'].getData();\r\n            });\r\n        },\r\n        // 滚定监听\r\n        scrollEvent(e) {\r\n            let that=this;\r\n            if (Math.ceil(e.currentTarget.scrollTop + e.currentTarget.clientHeight) >=e.currentTarget.scrollHeight-20) {   //容差：20px\r\n                console.log('滚动到底部');\r\n                if(!that.page.finish && !that.page.loading){\r\n                    that.page.current+=1;\r\n                    that.getList();\r\n                }\r\n            }\r\n        },\r\n        //列表\r\n        async getList(){\r\n            if(this.page.loading){\r\n                return;\r\n            }\r\n            let d={\r\n                area: this.area.type,//'hubei',\r\n                current: this.page.current,\r\n                size: this.page.size,\r\n            };\r\n            this.page.loading=true;\r\n            let res = await this.$api.trading_page(d);\r\n            let list = res.list || [];\r\n            if (list.length >= d.size) {\r\n                this.page.finish = false;\r\n            } else {\r\n                this.page.finish = true;\r\n            }\r\n            if(d.current==1){\r\n                this.list=list;\r\n            }else{\r\n                this.list=this.list.concat(list);\r\n            }\r\n            this.page.loading=false;\r\n\r\n            this.showDom();\r\n        },\r\n        changeAuto(val){\r\n            if(this.isAuto==val){\r\n                this.isAuto=false;\r\n            }else{\r\n                this.isAuto=val;\r\n            }\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n//通用二级分类菜单。样式二\r\n.selectMenus{\r\n    display: flex;\r\n    // position: fixed;\r\n    // top:48px;\r\n    // left:0;\r\n    background: #17171a;\r\n    width:100%;\r\n    height:40px;\r\n    line-height:40px;\r\n}\r\n.selectMenu{\r\n    cursor: pointer;\r\n    padding: 0 15px;\r\n    margin:0 5px;\r\n    border-right: 1px solid #434651;\r\n}\r\n// .selectMenu:hover{\r\n//     color:@yellow;\r\n// }\r\n.selectMenu.active{\r\n    // cursor: auto;\r\n    color:@yellow;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.4.1@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./superReplay.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.4.1@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./superReplay.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./superReplay.vue?vue&type=template&id=16c4a626&scoped=true\"\nimport script from \"./superReplay.vue?vue&type=script&lang=js\"\nexport * from \"./superReplay.vue?vue&type=script&lang=js\"\nimport style0 from \"./superReplay.vue?vue&type=style&index=0&id=16c4a626&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16c4a626\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./superReplay.vue?vue&type=style&index=0&id=16c4a626&prod&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./timeView.vue?vue&type=style&index=0&id=0ccc626a&prod&lang=less\"","module.exports = __webpack_public_path__ + \"static/img/collect.c1db1037.svg\";"],"sourceRoot":""}