(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fcee764"],{"22d6":function(t,e,s){"use strict";s("4b8a")},"4b8a":function(t,e,s){},c45d:function(t,e,s){"use strict";s.r(e);s("ca7c");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w90p pt48 pb48",staticStyle:{margin:"0 auto"}},[e("div",{staticClass:"firstTitle"},[t._v("控排企业供需报价")]),e("div",{staticClass:"secondDesc"},[t._v("控排企业供需报价简介")]),e("div",{staticClass:"flexBox mt24"},[e("div",{staticClass:"w50p"},[e("div",{staticClass:"p16",staticStyle:{"background-color":"rgb(30, 32, 38)"}},[e("Input",{staticClass:"search",staticStyle:{width:"250px"},attrs:{search:"",placeholder:"请输入能源或化工品种"},on:{"on-search":t.search},model:{value:t.page.name,callback:function(e){t.$set(t.page,"name",e)},expression:"page.name"}}),e("div",{staticClass:"mt20",on:{scroll:t.scrollEvent}},[e("table",{staticClass:"defineTable mt20 dataList",attrs:{cellspacing:"0"}},[t._m(0),e("tbody",[t._l(t.list,(function(s,a){return e("tr",{key:a},[e("td",{},[t._v(t._s(s.name))]),e("td",{class:"B"==s.in?"green":"red"},[t._v(t._s("B"==s.in?"买":"卖"))]),e("td",[e("span",[t._v(t._s(t._f("toFixed")(s.price,2)))])]),e("td",{},[t._v(t._s(s.amount))]),e("td",{},[t._v(t._s(s.contacts))]),e("td",{},[t._v(t._s(s.mobile))])])})),0==t.list.length?e("tr",[e("td",{staticClass:"center cloc",attrs:{colspan:"6"}},[t._v("暂无数据")])]):t._e()],2)])])],1)]),e("div",{staticClass:"p16",staticStyle:{flex:"1","margin-left":"40px","background-color":"rgb(30, 32, 38)"}},[e("Form",{attrs:{model:t.form,"label-width":120}},[e("FormItem",{attrs:{label:"发布时间"}},[e("DatePicker",{attrs:{type:"date",placeholder:"请选择发布时间"},model:{value:t.form.push,callback:function(e){t.$set(t.form,"push",e)},expression:"form.push"}})],1),e("FormItem",{attrs:{label:"能源、化工品种"}},[e("Input",{staticClass:"w300",attrs:{placeholder:"请输入品种名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("FormItem",{attrs:{label:"供/需"}},[e("Select",{staticClass:"w300",attrs:{placeholder:"请选择供需方向"},model:{value:t.form.in,callback:function(e){t.$set(t.form,"in",e)},expression:"form.in"}},[e("Option",{attrs:{value:"S"}},[t._v("供")]),e("Option",{attrs:{value:"B"}},[t._v("需")])],1)],1),e("FormItem",{attrs:{label:"品种单价"}},[e("Input",{staticClass:"w300",attrs:{type:"number",placeholder:"请输入品种单价"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),e("FormItem",{attrs:{label:"品种数量"}},[e("Input",{staticClass:"w300",attrs:{type:"number",placeholder:"请输入品种数量"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1),e("FormItem",{attrs:{label:"有效期"}},[e("DatePicker",{attrs:{type:"date",placeholder:"开始时间"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}),e("span",{staticClass:"ml5 mr5"},[t._v("-")]),e("DatePicker",{attrs:{type:"date",placeholder:"结束时间"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1),e("FormItem",{attrs:{label:"联系人姓名"}},[e("Input",{staticClass:"w300",attrs:{placeholder:"请输入联系人姓名"},model:{value:t.form.contacts,callback:function(e){t.$set(t.form,"contacts",e)},expression:"form.contacts"}})],1),e("FormItem",{attrs:{label:"联系人手机号"}},[e("Input",{staticClass:"w300",attrs:{type:"number",placeholder:"请输入联系人手机号"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),e("FormItem",[e("Button",{staticStyle:{"min-width":"120px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]),e("Button",{staticStyle:{"margin-left":"15px","min-width":"120px"},on:{click:function(e){t.form={}}}},[t._v("重置")])],1)],1)],1)])])},r=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",{},[e("td",{},[t._v("品种")]),e("td",{},[t._v("供/需")]),e("td",{},[t._v("单价")]),e("td",{},[t._v("数量")]),e("td",{},[t._v("姓名")]),e("td",{},[t._v("手机号")])])])}],i={name:"",props:{},components:{},data(){return{form:{amount:"",contacts:"",mobile:"",name:"",price:""},list:[],page:{current:1,size:20,loading:!1,finish:!1,name:""}}},mounted(){this.getList()},methods:{search(){this.page.current=1,this.getList()},submit(){let t={...this.form,startTime:this.$dayjs(this.form.startTime).format("YYYY-MM-DD HH:mm:ss"),endTime:this.$dayjs(this.form.endTime).format("YYYY-MM-DD HH:mm:ss"),push:this.$dayjs(this.form.push).format("YYYY-MM-DD HH:mm:ss"),type:"enterprise"};t.mobile?this.$api.offer_apply(t).then(t=>{this.$Message.success("提交成功!")}):this.$Message.error("请输入联系人手机号!")},scrollEvent(t){let e=this;Math.ceil(t.currentTarget.scrollTop+t.currentTarget.clientHeight)>=t.currentTarget.scrollHeight-20&&(e.page.finish||e.page.loading||(e.page.current+=1,e.getList()))},async getList(){if(this.page.loading)return;let t={current:this.page.current,size:this.page.size,name:this.page.name,type:"enterprise"};this.page.loading=!0;let e=await this.$api.offer_page(t),s=e.list||[];s.length>=t.size?this.page.finish=!1:this.page.finish=!0,1==t.current?this.list=s:this.list=this.list.concat(s),this.page.loading=!1}}},l=i,o=(s("22d6"),s("829d")),n=Object(o["a"])(l,a,r,!1,null,"b3d8b0d4",null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-6fcee764.96568810.js.map