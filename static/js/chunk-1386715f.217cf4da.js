(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1386715f"],{"4e78":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w90p pt48 pb48",staticStyle:{margin:"0 auto"}},[e("div",{staticClass:"firstTitle center"},[t._v("碳价计算器")]),e("div",{staticClass:"flexCenter mt20"},[e("div",{staticClass:"formBox",staticStyle:{width:"600px"}},[e("Form",{attrs:{model:t.form}},[e("div",{staticClass:"red"},[t._v("务必确认当前步骤完成后，再顺序执行后续操作!")]),e("div",{staticClass:"mt10"},[t._v("1.设置约定的交易数量和价格")]),e("div",{staticClass:"mt10 ml20"},[t._v("约定吨数"),e("Input",{staticClass:"w120 ml10",attrs:{maxlength:"10",placeholder:"请输入吨数"},model:{value:t.form.tons,callback:function(e){t.$set(t.form,"tons",e)},expression:"form.tons"}})],1),e("div",{staticClass:"mt10 ml20"},[e("RadioGroup",{attrs:{vertical:""},model:{value:t.form.mode_1,callback:function(e){t.$set(t.form,"mode_1",e)},expression:"form.mode_1"}},[e("Radio",{attrs:{label:"mode_11"}},[t._v(" 【单价】 单价"),e("Input",{staticClass:"w120 ml10",attrs:{maxlength:"10",placeholder:"请输入单价"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),e("Radio",{staticClass:"mt10",attrs:{label:"mode_12"}},[t._v(" 【总价】 总金额"),e("Input",{staticClass:"w120 ml10",attrs:{maxlength:"10",placeholder:"请输入总金额"},model:{value:t.form.total_values,callback:function(e){t.$set(t.form,"total_values",e)},expression:"form.total_values"}})],1)],1)],1),e("div",{staticClass:"mt10"},[t._v("2.设置约定的手续费结算方式(三选一)")]),e("div",{staticClass:"mt10 ml20"},[t._v("手续费为千分之六(默认)"),e("Input",{staticClass:"w120 ml10",attrs:{maxlength:"10",placeholder:"0.000"},model:{value:t.form.fees,callback:function(e){t.$set(t.form,"fees",e)},expression:"form.fees"}})],1),e("div",{staticClass:"mt10 ml20"},[e("RadioGroup",{model:{value:t.form.mode_2,callback:function(e){t.$set(t.form,"mode_2",e)},expression:"form.mode_2"}},[e("Radio",{attrs:{label:"mode_21"}},[t._v("【企业承担双向】")]),e("Radio",{attrs:{label:"mode_22"}},[t._v("【各自承担】")]),e("Radio",{attrs:{label:"mode_23"}},[t._v("【机构承担双向】")])],1)],1),e("div",{staticClass:"mt10"},[t._v("3.设置手续费扣除方式(二选一)")]),e("div",{staticClass:"mt10 ml20"},[e("RadioGroup",{model:{value:t.form.mode_3,callback:function(e){t.$set(t.form,"mode_3",e)},expression:"form.mode_3"}},[e("Radio",{attrs:{label:"mode_31"}},[t._v("【单独扣除】")]),e("Radio",{attrs:{label:"mode_32"}},[t._v("【从交易费用中扣除】")])],1)],1),e("div",{staticClass:"mt10"},[t._v("4.设置线上可成交的配额价格")]),e("div",{staticClass:"mt10 ml20"},[t._v(" SZEA(固定价格)"),e("Input",{staticClass:"w200 ml10",attrs:{maxlength:"20",placeholder:"请输入当前价"},model:{value:t.form.no_1_cur,callback:function(e){t.$set(t.form,"no_1_cur",e)},expression:"form.no_1_cur"}})],1),e("div",{staticClass:"mt10"},[t._v("5.是否需要辅助交易品种周转")]),e("div",{staticClass:"mt10"},[e("Select",{staticClass:"ml20",staticStyle:{width:"auto"},attrs:{placeholder:"请选择"},model:{value:t.form.mode_5,callback:function(e){t.$set(t.form,"mode_5",e)},expression:"form.mode_5"}},[e("Option",{attrs:{value:"mode_51"}},[t._v("【是】")]),e("Option",{attrs:{value:"mode_52"}},[t._v("【否】 差额费用线下单独转账补齐")])],1),"mode_51"==t.form.mode_5?e("div",{staticClass:"ml20"},[e("div",{staticClass:"mt10"},[t._v(" 输入辅助品种最低价"),e("Input",{staticClass:"w120 ml10",attrs:{maxlength:"10",placeholder:"请输入价格"},model:{value:t.form.price_2,callback:function(e){t.$set(t.form,"price_2",e)},expression:"form.price_2"}})],1),e("div",{staticClass:"mt10"},[t._v(" 输入辅助品种数量(上限)"),e("Input",{staticClass:"w120 ml10",attrs:{maxlength:"10",placeholder:"请输入吨数"},model:{value:t.form.tons_2,callback:function(e){t.$set(t.form,"tons_2",e)},expression:"form.tons_2"}})],1),e("div",{staticClass:"mt10"},[t._v(" 辅助品种(价格浮动范围) "),e("Input",{staticClass:"w120 ml10",attrs:{maxlength:"10",placeholder:"请输入最低价"},model:{value:t.form.no_2_low,callback:function(e){t.$set(t.form,"no_2_low",e)},expression:"form.no_2_low"}}),e("Input",{staticClass:"w120 ml10",attrs:{maxlength:"10",placeholder:"请输入最高价"},model:{value:t.form.no_2_high,callback:function(e){t.$set(t.form,"no_2_high",e)},expression:"form.no_2_high"}})],1)]):t._e()],1),e("div",{staticClass:"mt10"},[t._v("6.检查无误后进行计算")]),e("div",{staticClass:"mt10 ml20"},[t._v("阀值设置(金额误差) "),e("Input",{staticClass:"w120 ml10",attrs:{maxlength:"10",placeholder:"0"},model:{value:t.form.gap,callback:function(e){t.$set(t.form,"gap",e)},expression:"form.gap"}})],1),e("form",{staticClass:"mt10"},[e("Button",{staticStyle:{"min-width":"80px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认")])],1),e("div",{staticClass:"bg0 p10 green mt10",domProps:{innerHTML:t._s(t.holding_str)}})])],1)])])},a=[],r=(s("5353"),{name:"",props:{},components:{},data(){return{form:{mode_1:"mode_11",mode_2:"mode_21",mode_3:"mode_31",mode_5:"mode_51",fees:.006},holding_str:" 请填写内容后，点击确认按钮..."}},mounted(){},methods:{submit(){if(!this.form.tons||!this.form.no_1_cur||!this.form.gap)return this.holding_str="计算失败，请检查数字格式",void this.$Message.error(this.holding_str);let t=0,e=parseInt(parseFloat(this.form.tons)),s=parseInt(100*parseFloat(this.form.no_1_cur)),o=parseInt(100*parseFloat(this.form.gap)),a=0,r=0,l=-o,i=0,n=0,m=0;i="mode_21"==this.form.mode_2?2*parseFloat(this.form.fees):"mode_22"==this.form.mode_2?parseFloat(this.form.fees):0,"mode_11"==this.form.mode_1&&(n=parseInt(100*parseFloat(this.form.price)),m=n*e),"mode_12"==this.form.mode_1&&(m=parseInt(100*parseFloat(this.form.total_values)),n=m/e);let c=0,d=0;if("mode_51"==this.form.mode_5){d=parseInt(100*parseFloat(this.form.price_2));let f=parseInt(parseFloat(this.form.tons_2)),_=parseInt(100*parseFloat(this.form.no_2_low)),u=parseInt(100*parseFloat(this.form.no_2_high));c="mode_31"==this.form.mode_3?m:m/(1+i);let p=0,v=0,h=0;for(let c=_;c<u+1;c++)for(let _=1;_<f+1;_++)h++,v=(s*e+(c+d)*_)*i,p=s<n?m-(s*e+(c-d)*_)+v:m-(s*e-(c-d)*_)+v,p>0||-o<p&&p<0&&(t=1,l<p&&(l=p,a=_,r=c))}function f(t,e){return t?t.toFixed(e):t}"mode_52"==this.form.mode_5&&(m=n*e,c="mode_31"==this.form.mode_3?m:m/(1+i),a=e,r=n,t=2);let _="";if(2==t){let t=s*a/100,o=(c-s*a)/100;_=`深圳配额SZEA 吨数:${e} 单价:${f(s/100,2)}\n 交易总吨数 ${e}\n交易收支 ${-f(t,2)}\n产生手续费 ${f(i*t,2)}\n最终资金变动 ${-f(t*(1+i),2)}\n线下差额费用 `+o}else if(1==t){let t=c/100;_=`深圳配额SZEA 吨数:${e} 单价:${f(s/100,2)}\n辅助品种 倒差吨数:${a} 倒差单价:${f(r/100,2)} 最低单价:${f(d/100,2)}\n交易收支 ${-f(t,2)}\n产生手续费 ${f(i*t,2)}\n最终资金变动 ${-f(t*(1+i),2)}`}else 0==t&&(_="计算失败，请调整阈值或者调整辅助品种参数");return _=_.replaceAll("\n","<br/>"),this.holding_str=_,_}}}),l=r,i=(s("5443"),s("829d")),n=Object(i["a"])(l,o,a,!1,null,"1769904c",null);e["default"]=n.exports},5353:function(t,e,s){"use strict";var o=s("b165"),a=s("7df1"),r=s("a873"),l=s("a2c0"),i=s("a791"),n=s("9a69"),m=s("bcb1"),c=s("fdcd"),d=s("d600"),f=s("6950"),_=s("e115"),u=s("10c7"),p=s("5ade"),v=u("replace"),h=TypeError,g=r("".indexOf),b=r("".replace),x=r("".slice),C=Math.max;o({target:"String",proto:!0},{replaceAll:function(t,e){var s,o,r,u,$,w,k,I,F,R,y=l(this),S=0,A="";if(!n(t)){if(s=m(t),s&&(o=c(l(f(t))),!~g(o,"g")))throw new h("`.replaceAll` does not allow non-global regexes");if(r=d(t,v),r)return a(r,t,y,e);if(p&&s)return b(c(y),t,e)}u=c(y),$=c(t),w=i(e),w||(e=c(e)),k=$.length,I=C(1,k),F=g(u,$);while(-1!==F)R=w?c(e($,F,u)):_($,u,F,[],void 0,e),A+=x(u,S,F)+R,S=F+k,F=F+I>u.length?-1:g(u,$,F+I);return S<u.length&&(A+=x(u,S)),A}})},5443:function(t,e,s){"use strict";s("de8c")},6950:function(t,e,s){"use strict";var o=s("7df1"),a=s("9fe8"),r=s("01dc"),l=s("ffc6"),i=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in i||a(t,"flags")||!r(i,t)?e:o(l,t)}},bcb1:function(t,e,s){"use strict";var o=s("0dcb"),a=s("2fea"),r=s("10c7"),l=r("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[l])?!!e:"RegExp"===a(t))}},de8c:function(t,e,s){},e115:function(t,e,s){"use strict";var o=s("a873"),a=s("704c"),r=Math.floor,l=o("".charAt),i=o("".replace),n=o("".slice),m=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,s,o,d,f){var _=s+t.length,u=o.length,p=c;return void 0!==d&&(d=a(d),p=m),i(f,p,(function(a,i){var m;switch(l(i,0)){case"$":return"$";case"&":return t;case"`":return n(e,0,s);case"'":return n(e,_);case"<":m=d[n(i,1,-1)];break;default:var c=+i;if(0===c)return a;if(c>u){var f=r(c/10);return 0===f?a:f<=u?void 0===o[f-1]?l(i,1):o[f-1]+l(i,1):a}m=o[c-1]}return void 0===m?"":m}))}},ffc6:function(t,e,s){"use strict";var o=s("babe");t.exports=function(){var t=o(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}}}]);
//# sourceMappingURL=chunk-1386715f.217cf4da.js.map