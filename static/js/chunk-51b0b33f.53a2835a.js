(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51b0b33f"],{"37ec":function(t,e,i){"use strict";i("74a3")},"5d19":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{margin:"20px 100px 20px 100px"}},[t._v(" 请选择列数： "),e("Select",{staticClass:"w200",attrs:{placeholder:""},on:{"on-change":t.change},model:{value:t.cloumn,callback:function(e){t.cloumn=e},expression:"cloumn"}},[e("Option",{attrs:{value:2}},[t._v("二列")]),e("Option",{attrs:{value:3}},[t._v("三列")])],1),e("div",{staticClass:"cloGrid mt20",class:["clo"+t.cloumn]},t._l(t.num,(function(t,i){return e("div",{key:i,staticClass:"relative",staticStyle:{"background-color":"rgb(30, 32, 38)"}},[e("div",{staticStyle:{width:"calc(100% - 20px)",height:"calc(100% - 20px)",position:"absolute",left:"10px",top:"10px"},attrs:{id:"manyView"+i}})])})),0)],1)},s=[];i("ca7c"),i("05a0"),i("de68"),i("5614"),i("3eb1");var o={name:"",props:{},components:{},data(){return{cloumn:JSON.parse(localStorage.getItem("manyView_column"))||3,num:6,list:[],page:{current:1,size:200,loading:!1,finish:!1}}},mounted(){const{type:t}=this.$route.query;t&&this.getList(t)},methods:{search(){this.page.current=1,this.getList(()=>{this.init()})},async getList(t){if(this.page.loading)return;let e={area:t,current:this.page.current,size:this.page.size};this.page.loading=!0;let i=await this.$api.trading_view_page(e),a=i.list||[],s=[];a.forEach(t=>{s.push({time:this.$dayjs(new Date(t.date)).format("YYYY-MM-DD"),close:t.close,open:t.open,high:t.highest,low:t.lowest,volume:t.totalAmount})}),a.length>=e.size?this.page.finish=!1:this.page.finish=!0,1==e.current?this.list=s:this.list=s.concat(this.list),this.page.loading=!1,this.initView(this.list)},initView(t){for(let e=0;e<this.num;e++)this.init(e,t)},change(){localStorage.setItem("manyView_column",JSON.stringify(this.cloumn)),this.num=0,location.reload()},init(t,e){const i=LightweightCharts.createChart(document.getElementById("manyView"+t),{layout:{background:{color:"#16161a"},textColor:"#dddddd"},grid:{vertLines:{color:"#222531"},horzLines:{color:"#222531"}}});i.priceScale().applyOptions({}),i.timeScale().applyOptions({});const a=e,s=a.map(t=>({time:t.time,value:(t.close+t.open)/2})),o=i.addAreaSeries({lastValueVisible:!1,crosshairMarkerVisible:!1,lineColor:"transparent",topColor:"rgba(56, 33, 110,0.5)",bottomColor:"rgba(56, 33, 110, 0.05)"});o.setData(s);const n=i.addCandlestickSeries();n.applyOptions({wickUpColor:"#e53935",upColor:"#e53935",wickDownColor:"#47a34b",downColor:"#47a34b",borderVisible:!1}),n.setData(a),window.addEventListener("resize",()=>{let e=$("#manyView"+t);i.resize(e.width(),e.height())})}}},n=o,l=(i("37ec"),i("829d")),r=Object(l["a"])(n,a,s,!1,null,"3e0c3396",null);e["default"]=r.exports},"74a3":function(t,e,i){}}]);
//# sourceMappingURL=chunk-51b0b33f.53a2835a.js.map